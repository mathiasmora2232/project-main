<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Education</title>
    <link rel="icon" href="imagenes/bluemarket.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/Global.css">
    <link rel="stylesheet" href="css/Cuenta.css">
  </head>
<body>
    <header>
             <nav>
  <div class="logo">Education</div>
  
  <ul class="nav-links">
    <li><a href="Homepage.html">Pagina de Inicio</a></li>
    <li><a href="Materias.html">Materias</a></li>
    <li><a href="Malla.html">Malla</a></li>
    <li><a href="Calendario.html">Calendario</a></li>
    <li><a href="cuenta.html">Mi cuenta</a></li>
    <li id="admin-link" style="display:none;"><a href="admin/dashboard-admin.html">Panel Admin</a></li>
  </ul>
  <div class="notifications" id="notificationsBtn">
    <span class="bell">üîî</span>
  </div>
  <div class="notifications-panel" id="notificationsPanel">
    <div class="panel-header">
      <span class="panel-title">Notificaciones</span>
      <button class="close-btn" id="closeNotifications">‚úñ</button>
    </div>
    <div class="panel-tabs">
      <button class="tab-btn active" id="tabUnread">No le√≠das</button>
      <button class="tab-btn" id="tabAll">Todas</button>
    </div>
    <div class="panel-content">
      <div class="notifications-list" id="unreadList">
        <div class="notification unread">
          <div class="notif-date">01/07/2025<br><span class="notif-hour">08:30</span></div>
          <div class="notif-info">
            <div class="notif-title">Tarea nueva de Matem√°ticas</div>
            <div class="notif-desc">Se ha asignado una nueva tarea sobre ecuaciones cuadr√°ticas.</div>
          </div>
        </div>
        <div class="notification unread">
          <div class="notif-date">30/06/2025<br><span class="notif-hour">19:10</span></div>
          <div class="notif-info">
            <div class="notif-title">Mensaje de tu profesor</div>
            <div class="notif-desc">El profesor Carlos ha enviado un mensaje sobre el examen.</div>
          </div>
        </div>
      </div>
      <div class="notifications-list" id="allList" style="display:none;">
        <div class="notification unread">
          <div class="notif-date">01/07/2025<br><span class="notif-hour">08:30</span></div>
          <div class="notif-info">
            <div class="notif-title">Tarea nueva de Matem√°ticas</div>
            <div class="notif-desc">Se ha asignado una nueva tarea sobre ecuaciones cuadr√°ticas.</div>
          </div>
        </div>
        <div class="notification unread">
          <div class="notif-date">30/06/2025<br><span class="notif-hour">19:10</span></div>
          <div class="notif-info">
            <div class="notif-title">Mensaje de tu profesor</div>
            <div class="notif-desc">El profesor Carlos ha enviado un mensaje sobre el examen.</div>
          </div>
        </div>
        <div class="notification">
          <div class="notif-date">29/06/2025<br><span class="notif-hour">15:00</span></div>
          <div class="notif-info">
            <div class="notif-title">Calificaci√≥n subida</div>
            <div class="notif-desc">Tu calificaci√≥n de Historia ya est√° disponible.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="burger">
    <div class="line1"></div>
    <div class="line2"></div>
    <div class="line3"></div> 
  </div>
</nav>


</header>
<section class="container">
  <div class="icon">
    <div class="profile">
      <img src="img/criAPDObnbY3yLh0M-zCPw==.png" alt="Foto de perfil">
    </div>
  </div>  
  <div class="text">
<h6>Nombre</h6>
  </div>
</section>
    <script src="js/app.js"></script>
  <script>
// Validaci√≥n de login y redirecci√≥n seg√∫n rol
function handleLogin(event) {
  event.preventDefault();
  const email = document.querySelector('input[name="login[username]"]').value;
  const password = document.querySelector('input[name="login[password]"]').value;
  fetch('http://127.0.0.1:5000/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, password })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      localStorage.setItem('rol', data.rol);
      if (data.rol === 'admin') {
        window.location.href = 'admin/dashboard-admin.html';
      } else {
        window.location.href = 'cuenta.html';
      }
    } else {
      alert('Credenciales incorrectas');
    }
  });
}

document.querySelector('.form-for-login').addEventListener('submit', handleLogin);
</script>
</body>
</html>